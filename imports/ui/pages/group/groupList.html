<template name="GroupList">
  <div style="display: flex; flex-wrap: wrap;">
  {{#each group in groups}}
    <div class="group-card mdl-cell mdl-cell--4-col mdl-card mdl-shadow--2dp" >
      <div class="mdl-card__title group-card-header" data-id="{{group._id}}">
      <!-- style="background-image:{{coverURL userId}};" -->
      </div>
      <div class="mdl-card__supporting-text">
        <a href="/group/{{group.handle}}" class="group-image-link view-user"><img src="{{group.photo}}" class="group-image mdl-list__item-avatar"/></a>
        <h6 class="mdl-card__title-text">{{group.name}}</h6>
        <span class="username">{{group.handle}}</span>
      </div>
      <div class="mdl-card__actions mdl-card--border">
        {{#if group.isOpen}}
          {{#if alreadyFollowing userId}}
            <button class="mdl-button mdl-js-button" id="unfollow-user" data-id="{{group._id}}">Join<i class="material-icons" data-id="{{group._id}}">minus</i></button>
          {{else}}
            <button class="mdl-button mdl-js-button" id="follow-user" data-id="{{group._id}}">Leave<i class="material-icons" data-id="{{group._id}}">add</i></button>
          {{/if}}
        {{/if}}
      </div>
    </div>
  {{/each}}
  </div>
</template>
