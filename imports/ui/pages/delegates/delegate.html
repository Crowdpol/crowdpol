<template name="Delegate">
	{{#if currentUser}}
		<!--{{> backButton text="generic.back-to-proposals" url="/dash"}}-->
	<div class="app-container search-container">
		<h3>{{_ "pages.delegates.heading"}}<small><i class="material-icons" id="delegate-help">help_outline</i></small></h3>
		<small>{{_ "pages.delegates.instructions-1"}}</small>
		<br/>
		<br/>
		<small>{{_ "pages.delegates.instructions-2"}}</small>
		<br/>
		<br/>
		<small>{{_ "pages.delegates.instructions-3"}}</small>

		<div class="search-wrapper">
			<i class="material-icons search-icon">search</i>

			<input type="text" name="focus" required class="search-box" placeholder='{{_ "pages.delegates.search"}}' id="delegate-search"/>
			<button class="close-icon" type="reset">
				<i class="material-icons">close</i>
			</button>
		</div>

		<div id="sortable" class="delegate-list" >
			{{#if Template.subscriptionsReady}}
				{{#each ranks}}
					<div class="delegate-item selected" id="{{_id}}" data-ex="{{getRanking}}">
						<div class="card-main-wrap delegate-card-main-wrap">
							<div class="card-main delegate-view">
								<img src={{profile.photo}} class="card-avatar">
								<div class="delegate-name">
									<h6>{{profile.firstName}} {{profile.lastName}}</h6>
									<p>({{profile.username}})</p>
								</div>
							</div>
							<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="list-checkbox-{{@index}}">
								<input type="checkbox" id="list-checkbox-{{@index}}" class="mdl-checkbox__input rank-select" checked/>
							</label>
						</div>

						<div class="card-secondary-wrap">
							{{#each roles}}
								<a class="tag role-chip">{{this}}</a>
							{{/each}}
							{{#each profile.tags}}
								<a href="{{this.url}}" class="tag tag-chip">{{this.keyword}}</a>
							{{/each}}
						</div>
					</div>
				{{/each}}
			{{else}}
				{{> loader}}
  		{{/if}}
		</div>
	<!--



	{{#each ranks}}
	  <li class="">{{profile.firstName}}&nbsp;{{profile.lastName}} ({{profile.username}})</li>
		{{/each}}
	<ul class="delegate-list demo-list-control mdl-list" >
	{{#each ranks}}

	  <li class="delegate-item selected mdl-list__item">
				 <div class="card-main-wrap">
					<span class="card-main mdl-list__item-primary-content">
						<img src={{profile.photo}} width="50px" height="50px" class="mdl-list__item-avatar">
						<h6>{{profile.firstName}}&nbsp;{{profile.lastName}} ({{profile.username}})</h6>
					</span>
					<span class="mdl-list__item-secondary-action">
						<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="rank-checkbox-{{@index}}">
							<input type="checkbox" id="rank-checkbox-{{@index}}" class="mdl-checkbox__input rank-select" checked/>
						</label>
					</span>
				 </div>
				<div class="tags-wrap">
					{{#each roles}}
						<span class="mdl-chip">
							<span class="mdl-chip__text">{{this}}</span>
						</span>
					{{/each}}
				</div>
			</li>
		{{/each}}
	</ul>
	-->

		{{#if Template.subscriptionsReady}}
			<div class="delegate-list">
				{{#each delegates}}
					<div class="delegate-item">
						<div class="card-main-wrap">
							<div class="card-main delegate-view">
								<img src={{profile.photo}} class="card-avatar">
								<div class="delegate-name">
									<h6>{{profile.firstName}} {{profile.lastName}}</h6>
									<p>({{profile.username}})</p>
								</div>
							</div>
							<label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="delegate-checkbox-{{@index}}">
								<input type="checkbox" id="delegate-checkbox-{{@index}}" class="mdl-checkbox__input delegate-select" />
							</label>
						</div>
						<div class="card-secondary-wrap">
							{{#each roles}}
								<a class="tag tag-chip role-chip">{{this}}</a>
							{{/each}}
							{{#each profile.tags}}
								<a href="{{this.url}}" class="tag tag-chip">{{this.keyword}}</a>
							{{/each}}
						</div>
					</div>
			  {{/each}}
			</div>
		{{else}}
			{{> loader}}
  	{{/if}}
	</div>
 {{/if}}
</template>

