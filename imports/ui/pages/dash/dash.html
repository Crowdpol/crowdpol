<template name="Dash">
	<div class="container">
		<h1>{{_ "dash-title"}}</h1>
		<!-- NOTE: This will have to be updated later on the permissions tickets. FlowRouter groups can manage this -->
		<div class="dashboard-wrap">
			{{#if currentUser}}
				{{> DashProposals}}
				{{> DashDelegates}}

				<div class="dash-card mdl-card mdl-shadow--2dp">
				{{#unless currentUser.emails.[0].verified}}
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "verify-account-message"}}</h2>
					</div>
					<div class="mdl-card__supporting-text">
						<span><a href="#" class="resend-verification-link">{{_ "verify-resend-link"}}</a></span>
					</div>
				{{else}}
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "verify-success-message"}}</h2>
					</div>
					{{#if isUnapprovedEntity}}
						<div class="mdl-card__title">
							<h2 class="mdl-card__title-text">{{_ "unapproved-entity-message"}}</h2>
						</div>
					{{/if}}
				{{/unless}}
					<div class="mdl-card__actions mdl-card--border">
						<button id="log-out" class="mdl-button mdl-js-button mdl-button--raised">
							{{_ "logout"}}
						</button>
					</div>
				</div>
			{{else}}
				<div class="dash-card mdl-card mdl-shadow--2dp">
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "authentication-required-message"}}</h2>
					</div>
					<div class="mdl-card__actions mdl-card--border">
						<button id="log-in" class="primary-button mdl-button mdl-js-button mdl-button--raised">
							{{_ "login"}}
						</button>
					</div>
				</div>
			{{/if}}
		</div>
	</div>
</template>

<template name="DashProposals">
	<div class="dash-card mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"dash.card.proposals.heading"}}</h2>
		</div>
		<div class="mdl-card__supporting-text">
			{{_"dash.card.proposals.text"}}
		</div>
		<div class="mdl-card__actions mdl-card--border">
			<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="/proposals">
				{{_"dash.card.proposals.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">person</i>
			</button>
		</div>
	</div>
</template>

<template name="DashDelegates">
	<div class="dash-card mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"dash.card.delegates.heading"}}</h2>
		</div>
		<div class="mdl-card__supporting-text">
			{{_"dash.card.delegates.text"}}
		</div>
		<div class="mdl-card__actions mdl-card--border">
			<a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="/delegate">
				{{_"dash.card.delegates.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">subject</i>
			</button>
		</div>
	</div>
</template>
