<template name="Dash">
	<div class="container app-container">
		<h1>{{_ "pages.dashboard.heading"}}</h1>
		<!-- NOTE: This will have to be updated later on the permissions tickets. FlowRouter groups can manage this -->
		<div class="dashboard-wrap">
			<div class="mdl-grid">
				<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.vote.heading"}}</h2>
					</div>
					<div class="dash-card-text mdl-card__supporting-text">
						{{_"pages.dashboard.card.vote.text"}}
						<a class="primary-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" href="/voting">
							{{_"pages.dashboard.card.vote.link"}}
						</a>
					</div>
					<div class="mdl-card__menu">
						<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
							<i class="material-icons">thumbs_up_down</i>
						</button>
					</div>
				</div>
			
			{{#if currentUser}}
				{{> DashInterests}}
				{{> DashProfile}}
				{{> DashVote}}
				{{> DashDelegates}}
				{{> DashProposals}}

				<!--{{> DashCandidates}}-->

				<!--<div class="dash-card mdl-card mdl-shadow- -2dp">
				 {{#unless currentUser.emails.[0].verified}}
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "pages.dashboard.verify-account-message"}}</h2>
					</div>
					<div class="dash-card-text mdl-card__supporting-text">
						<span><a href="#" class="resend-verification-link">{{_ "pages.dashboard.verify-resend-link"}}</a></span>
					</div>
				{{else}}
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "pages.dashboard.verify-success-message"}}</h2>
					</div>
					{{#if isUnapprovedEntity}}
						<div class="mdl-card__title">
							<h2 class="mdl-card__title-text">{{_ "pages.dashboard.unapproved-entity-message"}}</h2>
						</div>
					{{/if}}
				{{/unless}} 
				</div>-->
			{{else}}
				<div class="dash-card mdl-card mdl-shadow--2dp">
					<div class="mdl-card__title">
						<h2 class="mdl-card__title-text">{{_ "pages.dashboard.authentication-required-message"}}</h2>
					</div>
					<div class="mdl-card__actions">
						<button id="log-in" class="primary-button mdl-button mdl-js-button mdl-button--raised">
							{{_ "login"}}
						</button>
					</div>
				</div>
			{{/if}}
		</div>
		</div>
	</div>
</template>

<template name="DashProfile">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.profile.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{_ "pages.dashboard.card.profile.text"}}: {{profileStatus}}
			<br>
			<a  href="/profile">
				{{_ "pages.dashboard.card.profile.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">person</i>
			</button>
		</div>
	</div>
</template>

<template name="DashInterests">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.interests.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{#each tags}}
				<span class="mdl-chip mdl-chip-hoverable">
					<a href="{{this.url}}" class="mdl-chip__text">{{this.keyword}}</a>
				</span>
			{{else}}
				you have not selected any interests yet
			{{/each}}
			<br/>
			<a class="" href="/interests">
				{{_ "pages.dashboard.card.interests.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">loyalty</i>
			</button>
		</div>
	</div>
</template>

<template name="DashProposals">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.proposals.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{_ "pages.dashboard.card.proposals.text"}}
			<a class="primary-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" href="/proposals">
				{{_ "pages.dashboard.card.proposals.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">lightbulb_outline</i>
			</button>
		</div>
	</div>
</template>

<template name="DashDelegates">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.delegates.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{_"pages.dashboard.card.delegates.text"}}
			<ul class="demo-list-icon mdl-list">
				{{#each ranks}}
					<li class="mdl-list__item">
				    <span class="mdl-list__item-primary-content">
				    	<img class="mdl-chip__contact" src="{{profile.photo}}">
				    	<span class="mdl-chip__text">{{profile.firstName}}&nbsp;{{profile.lastName}}</span>
				  	</span>
				  </li>
				{{else}}
					you don't have any delegates
				{{/each}}
			</ul>
			<a class="primary-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" href="/delegate">
				{{_"pages.dashboard.card.delegates.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">face</i>
			</button>
		</div>
	</div>
</template>

<template name="DashCandidates">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.candidates.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{_"pages.dashboard.card.candidates.text"}}
			<a class="primary-button mdl-button mdl-js-button mdl-button--raised mdl-js-ripple-effect" href="/candidate">
				{{_"pages.dashboard.card.candidates.link"}}
			</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">record_voice_over</i>
			</button>
		</div>
	</div>
</template>

<template name="DashVote">
	<div class="mdl-cell mdl-cell--6-col  mdl-cell--12-col-tablet mdl-cell--12-col-phone mdl-card mdl-shadow--2dp">
		<div class="mdl-card__title">
			<h2 class="mdl-card__title-text">{{_"pages.dashboard.card.vote.heading"}}</h2>
		</div>
		<div class="dash-card-text mdl-card__supporting-text">
			{{_"pages.dashboard.card.vote.text"}}
			<br>
			{{openProposalCount}} open proposals <a href="/voting">Vote now</a><br>
			{{closedProposalCount}} closed proposals <a href="/proposals">View outcome</a>
		</div>
		<div class="mdl-card__menu">
			<button class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect">
				<i class="material-icons">thumbs_up_down</i>
			</button>
		</div>
	</div>
</template>
