<template name="AdminTags">
	<div class="container">
		<h3> {{_"admin.tags.heading"}} </h3>
		{{> AdminTagsForm}}
		{{> AdminTagsTable}}
	</div>
</template>

<template name="AdminTagsTable">
	{{#if Template.subscriptionsReady}}
		<table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
			<thead>
				<tr>
					<th class="mdl-data-table__cell--non-numeric">{{_"admin.tags.text"}}</th>
					<th>{{_"admin.tags.keyword"}}</th>
					<th>{{_"admin.tags.created"}}</th>
					<th>{{_"admin.tags.approved"}}</th>
					<th>{{_"admin.tags.delete"}}</th>
				</tr>
			</thead>
			<tbody>
				{{#each tags}}
					<tr>
						<td class="mdl-data-table__cell--non-numeric"><a href="{{url}}" target="_blank">{{text}}</a></td>
						<td class="mdl-data-table__cell--non-numeric">
							{{keyword}}
						</td>
						<td class="mdl-data-table__cell--non-numeric">{{tagDate}}</td>
						<td class="mdl-data-table__cell--non-numeric">
							<button id="approve-button" class="mdl-button mdl-js-button mdl-button--raised" data-tag-id={{_id}} data-tag-authorized="{{authorized}}">
								{{#if authorized}}
									<i class="material-icons">check</i>
								{{else}}
									<i class="material-icons">close</i>
								{{/if}}
							</button>
						</td>
						<td>
							<button id="delete-button" class="mdl-button mdl-js-button mdl-button--raised" data-tag-id="{{_id}}">
								<i class="material-icons">delete</i>
							</button>
						</td>
					</tr>
				{{/each}}
			</tbody>
		</table>
	{{else}}
		<p> Loading... </p>
	{{/if}}
</template>

<template name="AdminTagsForm">
	<form id="add-tag">
		<div class="mdl-textfield mdl-js-textfield">
			<label class="mdl-textfield__label"> {{_ "admin.tags.text"}}</label>
			<input type="text" id="tag-text" class="mdl-textfield__input" placeholder='{{_ "admin.tags.text"}}'>
		</div>
		<div class="form-group" style="margin-bottom: 1rem">
			<input type="submit" class="mdl-button mdl-js-button mdl-button--raised" value='{{_ "admin.tags.add-button"}}'>
		</div>
	</form>
</template>
