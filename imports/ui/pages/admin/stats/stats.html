<template name="Stats">
	{{> backButton text="Back to Dashboard" url="/admin/dash"}}
	<div class="container">
		<h1>Stats</h1>
		{{> ProposalStatsCard}}

	</div>
</template>

<template name="ProposalStatsCard">
	<div class="demo-card-square mdl-card mdl-shadow--2dp">
	  <div class="mdl-card__title mdl-card--expand">
	    <h2 class="mdl-card__title-text">Proposals</h2>
	  </div>
	  <div class="mdl-card__supporting-text">
	    <div class="ct-chart-preview ct-perfect-fourth"></div>
	  </div>
	  <div class="mdl-card__actions mdl-card--border">
	    <a class="mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect" href="/stats/proposals">
	      View
	    </a>
	  </div>
	</div>
</template>


<template name="ProposalStats">
	{{> backButton text="Back to Stats" url="/stats"}}
	<div class="app-container">
		<div class="mdl-tabs mdl-js-tabs mdl-js-ripple-effect">
		  <div class="mdl-tabs__tab-bar">
		      <a href="#propsal-stats-overview" class="mdl-tabs__tab is-active">{{_ "admin.stats.proposals.tabs.overview"}}</a>
		      <a href="#propsal-stats-details" class="mdl-tabs__tab">{{_ "admin.stats.proposals.tabs.proposalList"}}</a>
		  </div>

		  <div class="mdl-tabs__panel is-active" id="propsal-stats-overview">
		  	<p>Please note: this is still under development. More pressing issues had to be attended to. Sigh... I was having so much fun.</p>
		  	<div class="mdl-grid">
			  	<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
		 					<thead>
		 						<tr>
		 							<th colspan="2">Overview</th>
		 						</tr>
		 					</thead>
		 					<tbody>
		 						<tr>
		 							<td>Draft</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Submitted</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Live</td>
		 							<td></td>
		 						</tr>
		 					</tbody>
		 				</table>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<div class="ct-chart-overview  ct-perfect-fourth"></div>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
		 					<thead>
		 						<tr>
		 							<th colspan="2">Draft Overview</th>
		 						</tr>
		 					</thead>
		 					<tbody>
		 						<tr>
		 							<td>Unreviewed</td>
		 							<td>{{draftUnreviewedCount}}</td>
		 						</tr>
		 						<tr>
		 							<td>Approved</td>
		 							<td>{{draftApprovedCount}}</td>
		 						</tr>
		 						<tr>
		 							<td>Rejected</td>
		 							<td>{{draftRejectedCount}}</td>
		 						</tr>
		 					</tbody>
		 				</table>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<div class="ct-chart-draft-overview  ct-perfect-fourth"></div>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
		 					<thead>
		 						<tr>
		 							<th colspan="2">Sumbitted Overview</th>
		 						</tr>
		 					</thead>
		 					<tbody>
		 						<tr>
		 							<td>Unreviewed</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Approved</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Rejected</td>
		 							<td></td>
		 						</tr>
		 					</tbody>
		 				</table>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<div class="ct-chart-submitted-overview ct-perfect-fourth"></div>
		 			</div>
		 			<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		 				<table class="mdl-data-table mdl-js-data-table mdl-shadow--2dp">
		 					<thead>
		 						<tr>
		 							<th colspan="2">Live Overview</th>
		 						</tr>
		 					</thead>
		 					<tbody>
		 						<tr>
		 							<td>Draft</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Submitted</td>
		 							<td></td>
		 						</tr>
		 						<tr>
		 							<td>Live</td>
		 							<td></td>
		 						</tr>
		 					</tbody>
		 				</table>
		 			</div>
		    	<div class="mdl-cell mdl-cell--6-col mdl-cell--6-col-tablet mdl-cell--12-col-phone">
		    		<div class="ct-chart-live-overview ct-perfect-fourth"></div>
		 			</div>
		 		</div>
		  </div>
		  <div class="mdl-tabs__panel" id="propsal-stats-details">
		    <div class="switch-wrap">
					<label class="switch proposal-switch mdl-switch mdl-js-switch mdl-js-ripple-effect" for="open-closed-switch">
						<input type="checkbox" id="open-closed-switch" class="mdl-switch__input" checked>
						<span class="mdl-switch__label">{{_ "proposals.list.openClosedSwitch"}}</span>
					</label>
				</div>

				{{#if Template.subscriptionsReady}}
					{{#if openSelected}}
						<h4>{{_ "proposals.list.headings.openProposals"}}</h4>
						<ul class="demo-list-control mdl-list">
							{{#each openProposals}}
								{{> ProposalCardList}}
							{{/each}}
						</ul>
					{{else}}

						<h4>{{_ "proposals.list.headings.closedProposals"}}</h4>
						<ul class="demo-list-control mdl-list">
							{{#each closedProposals}}
								{{> ProposalCardLists}}
							{{/each}}
						</ul>
					{{/if}}

				{{else}}
					{{> loader}}
				{{/if}}
		  </div>
		</div>
	</div>
</template>

<template name="ProposalCardList">
	<li class="proposal-item mdl-list__item">
		<div class="card-main-wrap">
			<span class="card-main mdl-list__item-primary-content">
				<h6>{{ title }}</h6>
			</span>
			<span class="mdl-list__item-secondary-action">
				<small class="card-date">{{_ "proposals.list.cards.expires"}} {{ endDate }}</small>
			</span>
		</div>
		<div class="card-secondary-wrap">
			<p class="proposal-abstract">{{ abstract }}</p>
			<br>
			<div id="individualVoteBar" >
					<div id="resultBar" class="bar-container">
						<div class="yes-bar bar-properties" style="width: {{individualVotes.yesPercent}}%">YES&nbsp;({{individualVotes.yesPercent}}%)</div>
						<div class="no-bar bar-properties" style="width: {{individualVotes.noPercent}}%">NO&nbsp;({{individualVotes.noPercent}}%)</div>
					</div>
					<!--<strong>Total: {{IndividualVotes.totalVotes}}</strong> Yes: {{individualVotes.yesCount}} | No: {{individualVotes.noCount}}-->
			</div>
		</div>
		<a href="/stats/proposals/{{_id}}" class="secondary-button proposal-card-button mdl-button mdl-js-button mdl-js-ripple-effect">
			VIEW RESULTS
		</a>
	</li>
</template>

