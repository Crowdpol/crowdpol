<template name="AdminProposals">
	{{#if currentUserIsAdmin}}
	{{> backButton text="Back to Dashboard" url="/admin/dash"}}
	<div class="container">
		<h3>{{_"admin.proposals.heading"}}</h3>
		{{#if Template.subscriptionsReady}}
			{{#if proposals.count}}
				<table class="mdl-data-table mdl-js-data-table mdl-data-table mdl-shadow--2dp">
						<thead>
								<tr>
										<th>{{_"admin.proposals.date"}}</th>
										<th>{{_"admin.proposals.author"}}</th>
										<th>{{_"admin.proposals.contributors"}}</th>
										<th>{{_"admin.proposals.title"}}</th>
										<th></th>
										<th></th>
								</tr>
						</thead>
						<tbody>
								{{#each proposals}}
								<tr>
										<td data-label='{{_"admin.proposals.date"}}'>{{createdAt}}</td>
										<td data-label='{{_"admin.proposals.author"}}'>{{authorId}}</td>
										<td data-label='{{_"admin.proposals.contributors"}}'>
												{{#each user in invited}}
														{{user}} <br>
												{{/each}}
										</td>
										<td data-label='{{_"admin.proposals.title"}}'> <a href="/proposals/view/{{_id}}">{{title}}</a></td>
										<td>
												<button class="mdl-button mdl-js-button mdl-button--raised" data-proposal-id="{{_id}}" data-type="{{type}}" id="approve-button">
														<i class="material-icons">check</i>
														{{_'admin.proposals.approve-button'}}
												</button>
										</td>
										<td data-label="">
												<button class="mdl-button mdl-js-button mdl-button--raised" data-proposal-id="{{_id}}" data-type="{{type}}" id="reject-button">
														<i class="material-icons">close</i>
														{{_'admin.proposals.reject-button'}}
												</button>
										</td>
								</tr>
								{{/each}}
						</tbody>
				</table>
			{{else}}
				<p>
					{{_"admin.tags.none-waiting"}}
				</p>
			{{/if}}
		{{else}}
			<p>
				{{_ "generic.loading"}}
			</p>
		{{/if}}
	</div>
	{{/if}}
</template>
